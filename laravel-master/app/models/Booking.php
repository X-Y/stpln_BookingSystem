<?phpuse LaravelBook\Ardent\Ardent;/**	booking status:*	0:deleted*	1:active*	2:expired*	3:completed**/class Booking extends Ardent{	public static $rules=array(		"title"		=>"required",		"user"		=>"required",		"from"		=>"required",		"to"		=>"required",	);		public function getDates(){		$res=parent::getDates();		array_push($res,"from","to");		return $res;	}		public function scopeActive($query){		return $query->where("status","=",1);	}		public function scopeExcept($query,$id){		return $query->where("id","!=",$id);	}		public function displayStatus(){		$res="";		switch($this->status){			case 0:				$res="deleted";				break;			case 1:				$res="active";				break;			case 2:				$res="expired";				break;			case 3:				$res="completed";				break;		}		return $res;	}		public static function getUserBookings($userid,$scope=1){		$scope=(int)$scope;		$bookings=self::whereRaw("user = ".$userid." and status > 0 and status <= ".$scope)->orderBy('from','desc')->get();		return $bookings;	}	public static function updateStatus($id,$status){		$rec=self::find($id);		$rec["status"]=$status;		return $rec->save();	}		/*Booking::creating(function($booking){		if($this->	});*/}